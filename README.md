# Pronin += Kickstarter

–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ **Pickstarter** üß†

## –¢–ó

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–µ–±-—Å–µ—Ä–≤–∏—Å –Ω–∞ –±–∞–∑–µ Django, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π CRUD REST API
–¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å–±–æ—Ä–æ–≤.

### –ú–æ–¥–µ–ª–∏

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º —Ç—Ä–∏ —Å—É—â–Ω–æ—Å—Ç–∏:

- **User** (–º–æ–¥–µ–ª—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–∏—Å—Ç–µ–º—ã, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ)
- **Payment** (–º–æ–¥–µ–ª—å –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è –ü–ª–∞—Ç—ë–∂ –¥–ª—è —Å–±–æ—Ä–∞)
- **Collect** (–º–æ–¥–µ–ª—å –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ì—Ä—É–ø–ø–æ–≤–æ–≥–æ –¥–µ–Ω–µ–∂–Ω–æ–≥–æ —Å–±–æ—Ä–∞).

–ì—Ä—É–ø–ø–æ–≤–æ–π —Å–±–æ—Ä –¥–æ–ª–∂–Ω–æ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º:

- –∞–≤—Ç–æ—Ä–∞ —Å–±–æ—Ä–∞
- –Ω–∞–∑–≤–∞–Ω–∏–µ
- –ø–æ–≤–æ–¥ (–æ–¥–∏–Ω –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –Ω–∞ –≤—ã–±–æ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏–µ‚Äù, ‚Äú—Å–≤–∞–¥—å–±–∞‚Äù –∏ —Ç.–¥.)
- –æ–ø–∏—Å–∞–Ω–∏–µ
- —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∏ —Å–æ–±—Ä–∞—Ç—å (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å ‚Äú–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π‚Äù —Å–±–æ—Ä, –≤–µ–∑ –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã)
- —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é —Å–æ–±—Ä–∞–ª–∏ –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç
- —Å–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ —É–∂–µ —Å–¥–µ–ª–∞–ª–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è
- –æ–±–ª–æ–∂–∫—É —Å–±–æ—Ä–∞ (–∫–∞—Ä—Ç–∏–Ω–∫–∞)
- –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∞
- –ª–µ–Ω—Ç–∞ —Å–±–æ—Ä–∞ (—Å–ø–∏—Å–æ–∫ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: —Å—É–º–º–∞, –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è, –§–ò–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –ë–î, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–µ–π
–æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º Django ORM.
2. API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ –±–∞–∑–µ Django REST Framework
3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö GET-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–º, —Å
–æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤
4. –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–∫–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ docker compose up .
5. –î–æ–ª–∂–Ω–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å Management command –¥–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î
–º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—ã—Å—è—á).
6. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ì—Ä—É–ø–ø–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞ –∏–ª–∏ –ü–ª–∞—Ç–µ–∂–∞ –ø–æ —Å–±–æ—Ä—É –Ω–∞ –ø–æ—á—Ç—É –∞–≤—Ç–æ—Ä–∞/
–¥–æ–Ω–∞—Ç–µ—Ä–∞ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –ø–∏—Å—å–º–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏
—Å–±–æ—Ä–∞ (–æ—Ç–ø—Ä–∞–≤–∫–µ –ø–ª–∞—Ç–µ–∂–∞).
7. –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç REST –∏ –ø–æ–∫—Ä—ã—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Swagger.

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è:** 3 –¥–Ω—è

**–†–µ—Ñ–µ—Ä–µ–Ω—Å:** [https://sluchaem.ru/action/15721-vesennee-loto](https://sluchaem.ru/action/15721-vesennee-loto)

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Django 3.2
- drf 3.12.4

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π 

```git clone https://github.com/moritys/ProninTeamTest.git```

2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```(sudo) docker-compose up -d --build```

3. –ü—Ä–æ–≤–µ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ—Å–ª–µ –µ–≥–æ –∑–∞–ø—É—Å–∫–∞
```
(sudo) docker-compose exec web python manage.py migrate 
(sudo) docker-compose exec web python manage.py createsuperuser 
(sudo) docker-compose exec web python manage.py collectstatic --no-input
```

4. –°–æ–∑–¥–∞—Ç—å —é–∑–µ—Ä–∞ —á–µ—Ä–µ–∑ POST –∑–∞–ø—Ä–æ—Å –Ω–∞ http://localhost/api/users/ (–ª–æ–∫–∞–ª—Ö–æ—Å—Ç –∞–∫—Ç—É–∞–ª–µ–Ω –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏)
```
{
    "username": "admen",
    "password": "12345678f"
}
```

5. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ POST –∑–∞–ø—Ä–æ—Å –Ω–∞ http://localhost/api/token/login/

6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –∫—Ä–æ–º–µ GET*

 * *–Ω–∞–ø—Ä–∏–º–µ—Ä –≤ postman –ø–µ—Ä–µ–¥–∞—Ç—å –≤ Headers –≤ –ø–æ–ª–µ Authorization –∑–Ω–∞—á–µ–Ω–∏–µ "Token <your_token>"*

7. –ì–æ—Ç–æ–≤–æ, –∞–ø–∏ –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è. –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/pickstarter/static/schema.yaml`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ë–î

1. –ü–æ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã —Å –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ –ø–∞–ø–∫—É `/pickstarter/static/data/`

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç

```
(sudo) docker-compose exec web python manage.py import_csv 
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

###### /api/v1/collects

- –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∑–Ω–æ—Å–æ–≤, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫—Ä–∞—Ç–∫–æ

###### /api/v1/collects/<collect_id>

- –≤—ã–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–±–æ—Ä–µ, –≤–∫–ª—é—á–∞—è —Å–æ–±—Ä–∞–Ω–Ω—É—é —Å—É–º–º—É –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–ª–∞—Ç–∏–≤—à–∏—Ö

###### /api/v1/collects/<collect_id>/payments

- –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Å–±–æ—Ä—É

###### /api/v1/collects/<collect_id>/payments/<payment_id>

- –≤—ã–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–ª–∞—Ç–µ–∂–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–±–æ—Ä
